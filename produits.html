<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Produits - Mon Site E-commerce</title>
  <link rel="stylesheet" href="./produits.css">
  <!-- <link rel="stylesheet" href="./produitTest.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="manifest" href="./manifest.json">
  <meta http-equiv="Content-Security-Policy" content="
  default-src 'self'; 
  script-src 'self' 'nonce-xyz'; 
  style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
  img-src 'self' https://s.alicdn.com https://live.staticflickr.com;
  font-src 'self' https://cdnjs.cloudflare.com;
">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&display=swap" rel="stylesheet">

</head>
<body>
  <header>
    <nav>
        <div class="logo">
          <a href="./home.html">RYONV</a>
        </div>
        <div class="menu">
          <ul class="nav-links">
            <li><a href="./home.html">Accueil</a></li>
            <li><a href="./produits.html">Produits</a></li>
            <li><a href="./services.html">Nos services</a></li>
            <li><a href="./about.html">À propos</a></li>
            <li><a href="./contact.html">Contact</a></li>
            <li><a href="./formations.html">Nos formations</a></li>
            <li><a href="./Abonnement.html">Vendre avec nous</a></li>
          </ul>
          <div class="burger">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
          </div>
        </div>
      </nav>
  </header>

  <main>
    <section class="product-listing">
      <aside class="sidebar">
        <h3>Catégories</h3>
        <ul class="category-list">
          <li><a href="#" data-category="all" class="active">Toutes les catégories</a></li>
          <li><a href="#" data-category="vetements">Vêtements</a></li>
          <li><a href="#" data-category="electronique">Électronique</a></li>
          <li><a href="#" data-category="maison">Maison</a></li>
          <li><a href="#" data-category="sport">Accéssoir et Autres</a></li>
        </ul>
      </aside>

      <div class="product-grid">
        <!-- section fitrage -->
        <div class="filters">
          <label for="sort">Vous pouvez trier vos produits par :</label>
          <select id="sort">
            <option value="default">Par défaut</option>
            <option value="price-asc">Prix croissant</option>
            <option value="price-desc">Prix décroissant</option>
          </select>

          <!-- <label for="filter">Filtrer par prix :</label>
          <input type="range" id="filter" min="0" max="1000" value="1000" step="10">
          <span id="filter-value">1000M</span> -->
        </div>

        <!-- barre de recherche -->
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Rechercher un produit...">
        </div>
  

        <div class="product-list">
          <!-- affichage des produits -->
        </div>

        <!-- Pagination -->
        <div class="pagination">
            <button id="prev-btn" disabled>Précédent</button>
            <span id="page-info">Page 1 sur 1</span>
            <button id="next-btn">Suivant</button>
        </div>
      </div>
    </section>
 </main>

  <!-- Modal pour la galerie d'images -->
  <div id="product-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="product-gallery">
        <!-- affichage des images des produits-->
      </div>
    </div>
  </div>

  <div id="product-details-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="product-details">
        <!-- Détails du produit seront affichés ici -->
      </div>
    </div>
  </div>

  <div id="product-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="product-details">
        <!-- Les détails du produit seront ajoutés ici dynamiquement -->
      </div>
    </div>
  </div>
  
  <!-- Formulaire -->
<div id="user-info-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <form id="user-info-form">
        <label for="name">Nom :</label>
        <input type="text" id="name" name="name" required>
      
        <label for="city">Ville :</label>
        <input type="text" id="city" name="city" required>
      
        <label for="country">Pays :</label>
        <select id="country" name="country" required>
          <option value="">Sélectionnez un pays</option>
          <option value="DZ">Algérie</option>
          <option value="AO">Angola</option>
          <option value="BJ">Bénin</option>
          <option value="BW">Botswana</option>
          <option value="BF">Burkina Faso</option>
          <option value="BI">Burundi</option>
          <option value="CM">Cameroun</option>
          <option value="CV">Cap-Vert</option>
          <option value="CF">République centrafricaine</option>
          <option value="TD">Tchad</option>
          <option value="KM">Comores</option>
          <option value="CG">Congo</option>
          <option value="CD">République Démocratique du Congo</option>
          <option value="DJ">Djibouti</option>
          <option value="EG">Égypte</option>
          <option value="GQ">Guinée équatoriale</option>
          <option value="ER">Érythrée</option>
          <option value="ET">Éthiopie</option>
          <option value="GA">Gabon</option>
          <option value="GM">Gambie</option>
          <option value="GH">Ghana</option>
          <option value="GN">Guinée</option>
          <option value="GW">Guinée-Bissau</option>
          <option value="CI">Côte d'Ivoire</option>
          <option value="KE">Kenya</option>
          <option value="LS">Lesotho</option>
          <option value="LR">Libéria</option>
          <option value="LY">Libye</option>
          <option value="MG">Madagascar</option>
          <option value="MW">Malawi</option>
          <option value="ML">Mali</option>
          <option value="MR">Mauritanie</option>
          <option value="MU">Maurice</option>
          <option value="MA">Maroc</option>
          <option value="MZ">Mozambique</option>
          <option value="NA">Namibie</option>
          <option value="NE">Niger</option>
          <option value="NG">Nigéria</option>
          <option value="RW">Rwanda</option>
          <option value="ST">Sao Tomé-et-Principe</option>
          <option value="SN">Sénégal</option>
          <option value="SC">Seychelles</option>
          <option value="SL">Sierra Leone</option>
          <option value="SO">Somalie</option>
          <option value="ZA">Afrique du Sud</option>
          <option value="SS">Soudan du Sud</option>
          <option value="SD">Soudan</option>
          <option value="SZ">Eswatini</option>
          <option value="TZ">Tanzanie</option>
          <option value="TG">Togo</option>
          <option value="TN">Tunisie</option>
          <option value="UG">Ouganda</option>
          <option value="ZM">Zambie</option>
          <option value="ZW">Zimbabwe</option>
        </select>        
      
        <!-- Champ reCAPTCHA -->
        <!-- <div class="g-recaptcha" data-sitekey="6Leua_wpAAAAAFr_FF5hGycID6Rj0C7vzB8bvXcL"></div> -->
      
        <button type="submit">Discuter avec le vendeur</button>
        <p>
          <a href="./modalites-livraison.html">Connaître les modalités de livraison</a>
        </p>
        
      </form>
      
    </div>
</div> 
  
  <!-- Pied de page -->
  <footer>
    <div class="footer-content">
        <div class="footer-links">
            <a href="./home.html">Accueil</a>
            <a href="./modalites-livraison.html">Livraison</a>
            <a href="./Abonnement.html">Abonnement</a>
            <a href="./contact.html">Contact</a>
        </div>
        <p>&copy; 2024 RYONV. Développé par Beviryon.</p>
    </div>
</footer>

  <script nonce="xyz" type="module" src="./produits.js"></script>
  <!-- <script type="module"  src="./requets.js"></script> -->
  <script nonce="xyz" type="module"  src="./products.js"></script>
  <script nonce="xyz" type="module"  src="./lib/bundle.js"></script>
    <!-- Autres balises head -->
  <!-- <script src="https://www.google.com/recaptcha/api.js" async defer></script>   -->

   <!-- Message pop up -->
  
  <!-- Script temporaire pour effacer les anciens caches et les Service Workers -->
  <script nonce="xyz">
    if ('caches' in window) {
      caches.keys().then(cacheNames => {
        cacheNames.forEach(cacheName => {
          caches.delete(cacheName);
        });
      });
    }
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(registrations => {
        registrations.forEach(registration => {
          registration.unregister();
        });
      }).then(() => {
        navigator.serviceWorker.register('./service-worker.js').then(registration => {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }).catch(error => {
          console.log('ServiceWorker registration failed: ', error);
        });
      });
    }
  </script>

  <script nonce="xyz">
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        location.reload();
      }, 300000); // Recharge la page toutes les 5 minutes (300000 ms)
    });
    </script>
    

    <script nonce="xyz" src="./script_pwa_produits.js"></script>
    <script nonce="xyz">
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/service-worker.js')
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.log('Service Worker registration failed:', error);
          });
      }
    </script>
</body>
</html>
